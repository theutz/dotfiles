# vim: ft=sh fdm=marker fdl=1 fmr=\ »»»,\ «««

# functions »»»
function brew-readme() {
  brew info "$1" --json |
    jq -r '.|first|.urls.stable.url' |
    gsed -e 's|^https\?://||' |
    awk -F/ '{ print $1 "/" $2 "/" $3 }' |
    xargs glow -p
}
#  «««

# global aliases »»»
alias -g P='| ${(z)PAGER}'
alias -g HP='--help 2>&1 | ${(z)PAGER}'
#  «««

# chezmoi »»»
alias cm='chezmoi'
alias cmad='chezmoi add'
alias cmap='chezmoi apply'
alias cmcat='chezmoi cat'
alias cmcd='chezmoi cd'
alias cmda='chezmoi data'
alias cmdai='chezmoi data | ijq'
alias cmde='chezmoi decrypt'
alias cmdf='chezmoi diff'
alias cme='chezmoi edit'
alias cmea='chezmoi edit --apply'
alias cmec='chezmoi edit-config-template'
alias cmen='chezmoi encrypt'
alias cmew='chezmoi edit --watch'
alias cmex='chezmoi execute-template'
alias cmg='chezmoi git'
alias cmgws='chezmoi git status'
alias cmlg='lazygit -p $(chezmoi execute-template "{{ .chezmoi.config.sourceDir }}")'
alias cmls='chezmoi managed'
alias cmlsx='chezmoi unmanaged'
alias cmm='chezmoi merge'
alias cmma='chezmoi merge-all'
alias cmra='chezmoi re-add'
alias cmrm='chezmoi destroy'
alias cms='chezmoi status'
alias cmsp='chezmoi source-path'
alias cmtp='chezmoi target-path'
alias cmup='chezmoi update'
alias cmx='chezmoi forget'
#  «««

# edit config files »»»
alias e-zsh='chezmoi edit --watch --apply ~/.z{alias,sh{env,rc},log{in,out},preztorc,profile}; exec zsh'
alias e-nvim='chezmoi edit --watch --apply ~/.config/nvim'
alias e-tmux='chezmoi edit --watch --apply ~/.config/tmux/tmux.conf'
#  «««

# tmux »»»
alias t='tmux'
alias txp='tmuxp'
alias txpls='tmuxp ls'
#  «««

# homebrew »»»
alias brewr='brew-readme'
#  «««

alias lg='lazygit'
alias ls='eza --group-directories-first --icons'
alias reload='exec zsh'
alias rl='exec zsh'
