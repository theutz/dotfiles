encryption = "age"

[gpg]
recipient = "FD235DFD"

[age]
identity = "~/.config/chezmoi/key.txt"
recipient = "age1y5xgp4msrrhylvla0hcm7srsfjeql56p4ugfwsl89wsjs92vkvts3u5xxa"

[git]
autoAdd = true
autoCommit = true
autoPush = true

[cd]
{{ if lookPath "nu" -}}
command = "nu"
{{ else if lookPath "fish" -}}
command = "fish"
{{- end }}

[diff]
{{ if lookPath "difft" -}}
command = "difft"
args = ["--color", "always", "{{ "{{" }} .Destination {{ "}}" }}", "{{ "{{" }} .Target {{ "}}" }}"]
{{ else if lookPath "delta" -}}
command = "delta"
args = ["{{ "{{" }} .Destination {{ "}}" }}", "{{ "{{" }} .Target {{ "}}" }}"]
{{ else -}}
command = "diff"
args = ["{{ "{{" }} .Destination {{ "}}" }}", "{{ "{{" }} .Target {{ "}}" }}"]
{{- end }}
pager = "less -FR"

[merge]
{{- if lookPath "nvim" }}
command = "nvim"
args = [ "-c", "'+norm gg'", "-d", "{{ "{{" }} .Destination {{ "}}" }}", "{{ "{{" }} .Source {{ "}}" }}", "{{ "{{" }} .Target {{ "}}" }}"]
{{ end }}

[edit]
{{- if lookPath "nvim" }}
command = "nvim"
args = ["-c", "cd {{ .chezmoi.sourceDir }}"]
watch = false
apply = false
{{ end }}

{{ $xdg := (dict
  "configDir" (joinPath .chezmoi.homeDir ".config")
  "dataDir" (joinPath .chezmoi.homeDir ".local" "share")
  "stateDir" (joinPath .chezmoi.homeDir ".local" "state")
  "cacheDir" (joinPath .chezmoi.homeDir ".cache")
  )
-}}
[data.xdg]
configDir = "{{ $xdg.configDir }}"
dataDir = "{{ $xdg.dataDir }}"
stateDir = "{{ $xdg.stateDir }}"
cacheDir = "{{ $xdg.cacheDir }}"

[data.mise]
exe = "{{ .chezmoi.homeDir }}/.local/bin/mise"
configDir = "{{ $xdg.configDir }}/mise"
shimsDir = "{{ $xdg.dataDir }}/mise/shims"

[data.nushell]
{{ with $dir := (joinPath $xdg.configDir "nushell") -}}
configDir = "{{ $dir }}"
configFile = "{{ joinPath $dir "config.nu" }}"
envFile = "{{ joinPath $dir "env.nu" }}"
libDir = "{{ joinPath $dir "scripts" }}"
{{- end }}

# [status]
# exclude = ["scripts"]

# vim: ft=tmpl.toml
